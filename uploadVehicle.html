<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RentRyde - Upload Vehicle</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" 
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
</head>
<body class="bg-light">
    <!-- navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <img src="images/RentRydeLogo.jpeg" alt="rentryde logo" width="50" height="40" class="me-2">
            <a class="navbar-brand fw-bold fs-4" href="index.html">
                Rent<span class="text-warning">Ryde</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="signIn.html">Sign In</a></li>
                    <li class="nav-item"><a class="nav-link" href="carView.html">Browse</a></li>
                    <li class="nav-item"><a class="nav-link" href="uploadVehicle.html">List Your Vehicle</a></li>
                    <li class="nav-item"><a class="nav-link" href="book.html">Book Now</a></li>
                    <li class="nav-item"><a class="nav-link" href="aboutUs.html">About Us</a></li>
                    <li class="nav-item"><a class="nav-link" href="contactUs.html">Contact</a></li>
                    <li class="nav-item"><a class="nav-link" href="account.html">Account</a></li>
                    <li class="nav-item"><a class="nav-link" href="questionnaire.html">Feedback</a></li>
                    <li class="nav-item"><a class="nav-link" href="calculate.html">Calculator</a></li>
                    <li class="nav-item"><a class="nav-link" href="funPage.html">Fun Game</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- background image -->
    <div class="position-relative overflow: hidden">
        <img src="images/photo-1415594445260-63e18261587e.jpeg" alt="car background" 
             class="w-100 opacity-50" height="300px">
        <div class="position-absolute top-50 start-50 translate-middle text-center text-white w-100">
            <h1 class="display-1 fw-bold">List Your Vehicle</h1>
            <p class="fs-5">Share your car. Earn extra income. Drive the future with RentRyde.</p>
        </div>
    </div>

    <!-- upload form -->
    <div class="container my-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card shadow">
                    <div class="card-header bg-primary text-white">
                        <h2 class="mb-0 text-center">Upload Your Vehicle</h2>
                    </div>
                    <div class="card-body p-4">
                        <!-- action points to PHP file -->
                        <form id="uploadForm" action="processUpload.php" method="post" onsubmit="return validateUploadForm()">
                            <!-- vehicle brand -->
                            <div class="mb-3">
                                <label for="brand" class="form-label fw-bold">Vehicle Brand *</label>
                                <input type="text" class="form-control" id="brand" name="brand" 
                                       placeholder="e.g. Toyota">
                                <small class="text-danger" id="brandError"></small>
                                <small class="text-muted d-block">2-30 characters, letters only</small>
                            </div>

                            <!-- vehicle model -->
                            <div class="mb-3">
                                <label for="model" class="form-label fw-bold">Vehicle Model *</label>
                                <input type="text" class="form-control" id="model" name="model" 
                                       placeholder="e.g. Corolla 2022">
                                <small class="text-danger" id="modelError"></small>
                                <small class="text-muted d-block">2-50 characters, letters and numbers allowed</small>
                            </div>

                            <!-- price per day -->
                            <div class="mb-3">
                                <label for="price" class="form-label fw-bold">Price Per Day (OMR) *</label>
                                <input type="text" class="form-control" id="price" name="price" 
                                       placeholder="e.g. 25">
                                <small class="text-danger" id="priceError"></small>
                                <small class="text-muted d-block">Must be between 5 and 500 OMR</small>
                            </div>

                            <!-- description -->
                            <div class="mb-4">
                                <label for="description" class="form-label fw-bold">Description *</label>
                                <textarea class="form-control" id="description" name="description" rows="4"
                                          placeholder="Write a short description about your car..."></textarea>
                                <small class="text-danger" id="descriptionError"></small>
                                <small class="text-muted d-block">20-500 characters required</small>
                            </div>

                            <!-- submit button -->
                            <div class="d-grid">
                                <button type="submit" class="btn btn-primary btn-lg">Submit Listing</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- footer -->
    <footer class="bg-dark text-white pt-4 pb-3 mt-5">
        <div class="container">
            <div class="border-top border-secondary pt-3 text-center">
                <p class="mb-0 text-secondary">
                    &copy; 2025 RentRyde. All rights reserved.
                </p>
            </div>
        </div>
    </footer>

    <script>
        // validates vehicle information fields
        function validateVehicleInfo() {
            document.getElementById("brandError").innerHTML = "";
            document.getElementById("modelError").innerHTML = "";
            document.getElementById("descriptionError").innerHTML = "";
            
            var brand = document.getElementById("brand").value;
            var model = document.getElementById("model").value;
            var description = document.getElementById("description").value;
            var isValid = true;
            
            var brandPattern = /^[A-Za-z][A-Za-z -]{1,29}$/;
            if (brand === "") {
                document.getElementById("brandError").innerHTML = "Vehicle brand is required!";
                isValid = false;
            } else if (!brandPattern.test(brand)) {
                document.getElementById("brandError").innerHTML = "Brand must be 2-30 characters and contain only letters!";
                isValid = false;
            }
            
            var modelPattern = /^[A-Za-z0-9][A-Za-z0-9 -]{1,49}$/;
            if (model === "") {
                document.getElementById("modelError").innerHTML = "Vehicle model is required!";
                isValid = false;
            } else if (!modelPattern.test(model)) {
                document.getElementById("modelError").innerHTML = "Model must be 2-50 characters with letters, numbers, spaces, or hyphens!";
                isValid = false;
            }
            
            if (description === "") {
                document.getElementById("descriptionError").innerHTML = "Description is required!";
                isValid = false;
            } else if (description.length < 20) {
                document.getElementById("descriptionError").innerHTML = "Description must be at least 20 characters long!";
                isValid = false;
            } else if (description.length > 500) {
                document.getElementById("descriptionError").innerHTML = "Description must not exceed 500 characters!";
                isValid = false;
            }
            
            return isValid;
        }
        
        // validates price field
        function validatePrice() {
            document.getElementById("priceError").innerHTML = "";
            var priceInput = document.getElementById("price").value;
            var isValid = true;
            
            var pricePattern = /^\d+(\.\d{1,2})?$/;
            if (priceInput === "") {
                document.getElementById("priceError").innerHTML = "Price per day is required!";
                isValid = false;
            } else if (!pricePattern.test(priceInput)) {
                document.getElementById("priceError").innerHTML = "Price must be a valid number (e.g., 25 or 25.50)!";
                isValid = false;
            } else {
                var price = parseFloat(priceInput);
                if (price < 5) {
                    document.getElementById("priceError").innerHTML = "Price must be at least 5 OMR!";
                    isValid = false;
                } else if (price > 500) {
                    document.getElementById("priceError").innerHTML = "Price must not exceed 500 OMR!";
                    isValid = false;
                }
            }
            
            return isValid;
        }
        
        // validation function
        function validateUploadForm() {
            var vehicleInfoValid = validateVehicleInfo();
            var priceValid = validatePrice();
            
            if (vehicleInfoValid && priceValid) {
                return true;
            } else {
                return false;
            }
        }
    </script>
</body>
</html>

